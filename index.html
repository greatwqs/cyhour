---
layout: default
---

<div class="home">
  <div class="posts">
    {% for post in paginator.posts %}
      <div class="post">
        <a href="{{ post.url | prepend: site.baseurl }}" class="post-link"><h2 class="post-title">{{ post.title }}</h2></a>
          <p class="post-meta">
            <span class="author vcard">
              <a class="url fn n" rel="author" title="查看作者 {{ post.author }} 发布的所有文章" href="/">
                <span itemtype="http://schema.org/Person" itemprop="author">
                  <span itemprop="name">{{post.author}}</span>
                </span>
              </a>
            </span> | 

            <span class="time">
              <time datetime="{{ post.date | date:"%Y-%m-%d" }}">{{post.date | date:"%Y-%m-%d"}}</time>
            </span>

            {% if post.categories.size != 0 %}
             | 
            <span class="categories">
              {% for cat in post.categories %}
              <a href="/categories/#{{ cat }}" title="{{ cat }}">{{cat}}</a>&nbsp;
              {% endfor %}
            </span>
            {% endif %}

            {% if post.tags.size != 0 %}
             | 
            <span class="tags">
              {% for tag in post.tags %}
              <a href="/tags/#{{ tag }}" title="{{ tag }}">{{tag}}</a>&nbsp;
              {% endfor %}
            </span>
            {% endif %}

            <span class="ds-thread-count" data-thread-key="{{ page.id }}" data-count-type="comments"></span>
          </p>
        <p class="post-summary">
          {% if post.summary %}
            {{ post.summary }}
          {% else %}
            {{ post.excerpt }}
          {% endif %}
        </p>
      </div>
    {% endfor %}
  </div>
  
  <div id="post-pagination" class="pagination">
    {% if paginator.page == 1 %}
      <span class="page-numbers current">1</span>
    {% else %}
      <a class="page-numbers" href="/">1</a>
    {% endif %}

    {% assign pageSize = 2 %}
    {% assign startPage = paginator.page | minus:pageSize %}
    {% if 2 > startPage %}
      {% assign startPage = 2 %}
    {% endif %}
    {% assign endPage = paginator.page | plus:pageSize %}
    {% if endPage >= paginator.total_pages %}
      {% assign endPage = paginator.total_pages | minus:1 %}
    {% endif %}

    {% if paginator.page > 4 %}
      <span class="page-numbers dots">…</span>
    {% endif %}

    {% for count in (startPage..endPage) %}
      {% if count == paginator.page %}
        <span class="page-numbers current">{{ count }}</span>
      {% else %}
        <a class="page-numbers" href="/page{{ count }}">{{ count }}</a>
      {% endif %}
    {% endfor %}

    {% assign temPage = paginator.page | plus:3 %}
    {% if paginator.total_pages > temPage %}
      <span class="page-numbers dots">…</span>
    {% endif %}

    {% if paginator.page == paginator.total_pages %}
      <span class="page-numbers current">{{paginator.total_pages}}</span>
    {% else %}
      <a class="page-numbers" href="/page{{paginator.total_pages}}/">{{paginator.total_pages}}</a>
    {% endif %}

  </div>

</div>