---
Title: WordPress: 简单实现 Tooltip
author: 大肥羊
categories:
  - 大肥羊转载
date: 2011-02-04 18:48
layout: post
permalink: /59.html
status: public
tags:
  - wordpress
title: 'WordPress: 简单实现 Tooltip'
url: /59.html
---

RT，下面是方法。

【增加 shortcode：把下面的代码扔到主题的 functions.php 文件的 <?php ?> 中，具体的方法说明请搜/查看 WordPress 函数 add_shortcode】

  


<pre style="margin:15px 0;font:100 12px/18px monaco, andale mono, courier new;padding:10px 12px;border:#ccc 1px solid;border-left-width:4px;background-color:#fefefe;box-shadow:0 0 4px #eee;word-break:break-all;word-wrap:break-word;color:#444">// [zww-tooltip tip=""]<br />add_shortcode('zww-tooltip', 'shortcode_tooltip');<br />function shortcode_tooltip($attrs, $content = null) {<br />	$return = '';<br />	extract(shortcode_atts(array(<br />		'tip' =&gt; "",<br />	), $attrs));<br />		ob_start(); ?&gt;<br />		<span style="color:#170">&lt;span</span> <span style="color:#00c">class</span>=<span style="color:#a11">"tooltip"</span><span style="color:#170">&gt;</span><span style="color:#170">&lt;span</span> <span style="color:#00c">class</span>=<span style="color:#a11">"tooltip-icon"</span><span style="color:#170">&gt;</span>?<span style="color:#170">&lt;/span</span><span style="color:#170">&gt;</span><span style="color:#170">&lt;span</span> <span style="color:#00c">class</span>=<span style="color:#a11">"tip-content"</span><span style="color:#170">&gt;</span><span style="color:#170">&lt;span</span> <span style="color:#00c">class</span>=<span style="color:#a11">"tip-content-inner"</span><span style="color:#170">&gt;</span><span style="color:#555">&lt;?php</span> <span style="color:#708">echo</span> <span style="color:#000-2">$tip</span>; <span style="color:#555">?&gt;</span><span style="color:#170">&lt;/span</span><span style="color:#170">&gt;</span><span style="color:#170">&lt;/span</span><span style="color:#170">&gt;</span><span style="color:#170">&lt;/span</span><span style="color:#170">&gt;</span><br />		<span style="color:#555">&lt;?php</span><br />		<span style="color:#000-2">$return</span> <span style="color:#000">=</span> <span style="color:#@cm-word">ob_get_clean</span>();<br />	<span style="color:#@cm-word">return</span> <span style="color:#000-2">$return</span>;<br />}</pre>

### 下面是CSS

<pre style="margin:15px 0;font:100 12px/18px monaco, andale mono, courier new;padding:10px 12px;border:#ccc 1px solid;border-left-width:4px;background-color:#fefefe;box-shadow:0 0 4px #eee;word-break:break-all;word-wrap:break-word;color:#444">.<span style="color:#170">tooltip</span>{<br />	<span style="color:#000">position</span>: <span style="color:#164">relative</span>;<br />	<span style="color:#000">display</span>: <span style="color:#164">inline-block</span>;<br />	<span style="color:#000">margin-left</span>: <span style="color:#164">5px</span>;<br />	<span style="color:#000">margin-right</span>: <span style="color:#164">5px</span>;<br />	<span style="color:#000">height</span>: <span style="color:#164">16px</span>;<br />	<span style="color:#000">line-height</span>: <span style="color:#164">16px</span>;<br />	<span style="color:#000">vertical-align</span>: <span style="color:#164">middle</span>;<br />}<br />.<span style="color:#170">tooltip-icon</span>{<br />	<span style="color:#000">display</span>: <span style="color:#164">block</span>;<br />	<span style="color:#000">width</span>: <span style="color:#164">14px</span>;<br />	<span style="color:#000">height</span>: <span style="color:#164">14px</span>;<br />	<span style="color:#000">line-height</span>: <span style="color:#164">14px</span>;<br />	<span style="color:#000">border</span>: <span style="color:#164">1px</span> <span style="color:#164">solid</span> <span style="color:#219">#999</span>;<br />	<span style="color:#000">border-radius</span>: <span style="color:#164">50%</span>;<br />	<span style="color:#000">font-size</span>: <span style="color:#164">12px</span>;<br />	<span style="color:#000">font-weight</span>: <span style="color:#164">700</span>;<br />	<span style="color:#000">font-family</span>: <span style="color:#a11">"caption"</span>, <span style="color:#164">Arial</span>;<br />	<span style="color:#000">text-align</span>: <span style="color:#164">center</span>;<br />}<br />.<span style="color:#170">tip-content</span>{<br />	<span style="color:#000">z-index</span>: <span style="color:#164">999999</span>;<br />	<span style="color:#000">display</span>: <span style="color:#164">none</span>;<br />	<span style="color:#000">position</span>: <span style="color:#164">absolute</span>;<br />	<span style="color:#000">left</span>: <span style="color:#164">-5px</span>;<br />	<span style="color:#000">bottom</span>: <span style="color:#164">30px</span>;<br />	<span style="color:#000">width</span>: <span style="color:#164">240px</span>;<br />}<br />.<span style="color:#170">tip-content-inner</span>{<br />	<span style="color:#000">position</span>: <span style="color:#164">absolute</span>;<br />	<span style="color:#000">bottom</span>: <span style="color:#164"></span>;<br />	<span style="color:#000">left</span>: <span style="color:#164"></span>;<br />	<span style="color:#000">display</span>: <span style="color:#164">block</span>;<br />	<span style="color:#000">width</span>: <span style="color:#164">auto</span>;<br />	<span style="color:#000">max-width</span>: <span style="color:#164">200px</span>;<br />	<span style="color:#000">padding</span>: <span style="color:#164">10px</span>;<br />	<span style="color:#000">line-height</span>: <span style="color:#164">20px</span>;<br />	<span style="color:#000">border</span>: <span style="color:#164">1px</span> <span style="color:#164">solid</span> <span style="color:#219">#ccc</span>;<br />	<span style="color:#000">background</span>: <span style="color:#219">#fff</span>;<br />	<span style="color:#000">line-height</span>: <span style="color:#164">20px</span>;<br />	<span style="color:#000">color</span>: <span style="color:#219">#333</span>;<br />	<span style="color:#000">font-size</span>: <span style="color:#164">16px</span>;<br />}<br />.<span style="color:#170">tip-content-inner</span>:<span style="color:#170">before</span>{<br />	<span style="color:#000">content</span>: <span style="color:#a11">""</span>;<br />	<span style="color:#000">position</span>: <span style="color:#164">absolute</span>;<br />	<span style="color:#000">left</span>: <span style="color:#164">7px</span>;<br />	<span style="color:#000">bottom</span>: <span style="color:#164">-24px</span>;<br />	<span style="color:#000">border-style</span>: <span style="color:#164">solid</span> <span style="color:#164">solid</span> <span style="color:#164">solid</span> <span style="color:#164">solid</span>;<br />	<span style="color:#000">border-color</span>: <span style="color:#219">#ccc</span> <span style="color:#164">transparent</span> <span style="color:#164">transparent</span> <span style="color:#164">transparent</span>;<br />	<span style="color:#000">border-width</span>: <span style="color:#164">12px</span> <span style="color:#164">6px</span>;<br />}<br />.<span style="color:#170">tip-content-inner</span>:<span style="color:#170">after</span>{<br />	<span style="color:#000">content</span>: <span style="color:#a11">""</span>;<br />	<span style="color:#000">position</span>: <span style="color:#164">absolute</span>;<br />	<span style="color:#000">left</span>: <span style="color:#164">8px</span>;<br />	<span style="color:#000">bottom</span>: <span style="color:#164">-20px</span>;<br />	<span style="color:#000">border-style</span>: <span style="color:#164">solid</span> <span style="color:#164">solid</span> <span style="color:#164">solid</span> <span style="color:#164">solid</span>;<br />	<span style="color:#000">border-color</span>: <span style="color:#219">#fff</span> <span style="color:#164">transparent</span> <span style="color:#164">transparent</span> <span style="color:#164">transparent</span>;<br />	<span style="color:#000">border-width</span>: <span style="color:#164">10px</span> <span style="color:#164">5px</span>;<br />}<br />.<span style="color:#170">tooltip</span>:<span style="color:#170">hover</span> &gt; .<span style="color:#170">tip-content</span>{<br />	<span style="color:#000">display</span>: <span style="color:#164">block</span>;<br />}</pre>

- PS0: 那个圆圈是用 css3 实现的，所以 IE8 下面会变成方框……需要支持 IE8 的朋友自己改成背景图方式吧。  
- PS1: tip 内容用了 2 个容器的目的是为了让 tip 内容显示能 width:auto 效果，也就是说 .tip-content 的 width 起到 max-width 效果，然后 .tip-content-inner 就有了类似 max-width 的属性效果了（呃，好啰嗦）

### 用法

在文章编辑器里面只要输入如下格式的短代码  
[zww-tooltip tip="提示内容"]

就可以了。

\---\---\---\---\---\---\---\---\---\---\---\---

另附上：【纯CSS 实现tooltip 内容提示信息效果-大发】 http://fatesinger.com/74304

Tooltip 也就是内容的提示信息，合理使用可以给用户比较好的体验。

实现方法有很多种，有很多JS 插件，我这里介绍的是纯CSS实现的方法，兼容性也比较靠谱,IE8+均可正常显示。实现方法也非常简单。

### html结构

<pre style="margin:15px 0;font:100 12px/18px monaco, andale mono, courier new;padding:10px 12px;border:#ccc 1px solid;border-left-width:4px;background-color:#fefefe;box-shadow:0 0 4px #eee;word-break:break-all;word-wrap:break-word;color:#444"><span style="color:#170">&lt;a</span> <span style="color:#00c">class</span>=<span style="color:#a11">"css-tooltip"</span> <span style="color:#00c">href</span>=<span style="color:#a11">"http://fatesinger.com/73887"</span> <span style="color:#00c">data-tooltip</span>=<span style="color:#a11">"137 likes with 3.43k reads"</span><span style="color:#170">&gt;</span>WordPress Theme Pivot<span style="color:#170">&lt;/a</span><span style="color:#170">&gt;</span></pre>

可以看到关键有2点，意识有css-tooltip标签，二是用data-tooltip保存提示信息。

### css代码

<pre style="margin:15px 0;font:100 12px/18px monaco, andale mono, courier new;padding:10px 12px;border:#ccc 1px solid;border-left-width:4px;background-color:#fefefe;box-shadow:0 0 4px #eee;word-break:break-all;word-wrap:break-word;color:#444">.<span style="color:#170">css-tooltip</span>{<span style="color:#000">position</span>:<span style="color:#164">relative</span>}<br />.<span style="color:#170">css-tooltip</span>:<span style="color:#170">after</span>{<span style="color:#000">background-color</span>:<span style="color:#164">rgba</span><span style="color:#164">(0</span>,<span style="color:#164"></span>,<span style="color:#164"></span>,<span style="color:#164">0.8</span><span style="color:#164">)</span>;<span style="color:#000">border-radius</span>:<span style="color:#164">3px</span>;<span style="color:#000">bottom</span>:<span style="color:#164">30px</span>;<span style="color:#000">color</span>:<span style="color:#219">#fff</span>;<span style="color:#000">content</span>:<span style="color:#164">attr</span><span style="color:#164">(data-tooltip</span><span style="color:#164">)</span>;<span style="color:#000">display</span>:<span style="color:#164">none</span>;<span style="color:#000">font-size</span>:<span style="color:#164">12px</span>;<span style="color:#000">left</span>:<span style="color:#164">50%</span>;<span style="color:#000">line-height</span>:<span style="color:#164">1.3</span>;<span style="color:#000">padding</span>:<span style="color:#164">5px</span>;<span style="color:#000">position</span>:<span style="color:#164">absolute</span>;<span style="color:#000">text-align</span>:<span style="color:#164">center</span>;<span style="color:#000">width</span>:<span style="color:#164">160px</span>;<span style="color:#000">margin-left</span>:<span style="color:#164">-85px</span>}<br />.<span style="color:#170">css-tooltip</span>:<span style="color:#170">before</span>{<span style="color:#000">content</span>:<span style="color:#a11">""</span>;<span style="color:#000">border</span>:<span style="color:#164">4px</span> <span style="color:#164">transparent</span> <span style="color:#164">solid</span>;<span style="color:#000">border-top-color</span>:<span style="color:#164">rgba</span><span style="color:#164">(0</span>,<span style="color:#164"></span>,<span style="color:#164"></span>,<span style="color:#164">0.8</span><span style="color:#164">)</span>;<span style="color:#000">position</span>:<span style="color:#164">absolute</span>;<span style="color:#000">bottom</span>:<span style="color:#164">22px</span>;<span style="color:#000">left</span>:<span style="color:#164">50%</span>;<span style="color:#000">display</span>:<span style="color:#164">none</span>;<span style="color:#000">margin-left</span>:<span style="color:#164">-4px</span>}<br />.<span style="color:#170">css-tooltip</span>:<span style="color:#170">hover</span>:<span style="color:#170">after</span>,.<span style="color:#170">css-tooltip</span>:<span style="color:#170">hover</span>:<span style="color:#170">before</span>{<span style="color:#000">display</span>:<span style="color:#164">block</span>}</pre>

### PS

也可以使用.xxxx[data-tooltip]这种选择器。  
尽量不要和title标签同时使用，会比较不美观。